---
title: 
aliases: 
tags: 
description:
---

# 备注(声明)：
![RK3568（linux学习）/rk3568芯片开发/linux驱动入门/assets/第四期 高级字符设备进阶/file-20250810171734259.png](assets/第四期%20高级字符设备进阶/file-20250810171734259.png)




<span style="background:#affad1">同步和异步的区别就是在于是否等待io的执行结果</span>

# 一、整体介绍，引入IO模型
## 简介:


## 补充：


## 1.引入IO模型
### 1.1 IO的定义
输入输出的过程我们就可以称之为是IO

[“1_引入IO模型”页上的绘图](onenote:#1_引入IO模型&section-id={1F166380-B24F-4E1B-AF2C-66F0276941FF}&page-id={37694841-E228-4975-83AE-069CCB6177D7}&object-id={08CB6FC9-8C1A-4663-B698-4C077884C5E0}&E&base-path=https://d.docs.live.net/52D4B76BB0FFCF51/Documents/\(RK3568\)Linux驱动开发/第四期_高级字符设备进阶.one)

### 1.2 IO执行过程
[“1_引入IO模型”页上的图片](onenote:#1_引入IO模型&section-id={1F166380-B24F-4E1B-AF2C-66F0276941FF}&page-id={37694841-E228-4975-83AE-069CCB6177D7}&object-id={95162302-DFD1-47F9-BB99-D38D7DAC152B}&18&base-path=https://d.docs.live.net/52D4B76BB0FFCF51/Documents/\(RK3568\)Linux驱动开发/第四期_高级字符设备进阶.one)

### 1.3 为什么引入IO模型？
[“1_引入IO模型”页上的图片](onenote:#1_引入IO模型&section-id={1F166380-B24F-4E1B-AF2C-66F0276941FF}&page-id={37694841-E228-4975-83AE-069CCB6177D7}&object-id={95162302-DFD1-47F9-BB99-D38D7DAC152B}&22&base-path=https://d.docs.live.net/52D4B76BB0FFCF51/Documents/\(RK3568\)Linux驱动开发/第四期_高级字符设备进阶.one)
由于CPU和内存的速度远远高于外设的速度，所以就存在速度严重不匹配情况。怎么办呢?就可以使用I0模型进行编程。
### 1.4 


## 2.
### 2.1 


### 2.2 


### 2.3 


### 2.4 


## 3.
### 3.1 

### 3.2 

### 3.3 

### 3.4 




# 二、五种IO模型
## 简介:
[五种网络IO模型详解 - 猪油哥 - 博客园](https://www.cnblogs.com/-hz01/p/17908666.html)

[5种I/O模型_io模型-CSDN博客](https://blog.csdn.net/qq_44836676/article/details/124672227


## 1.使用等待队列实现阻塞访问-阻塞IO
<span style="background:#b1ffff">等待队列是内核实现阻塞和唤醒的内核机制</span>
![RK3568（linux学习）/rk3568芯片开发/linux驱动入门/assets/第四期 高级字符设备进阶/file-20250810171734591.png](assets/第四期%20高级字符设备进阶/file-20250810171734591.png)

### 1.1 表示等待队列头：结构体- wait_queue_head_t
[“2_使用等待队列实现阻塞访问”页上的图片](onenote:#2_使用等待队列实现阻塞访问&section-id={1F166380-B24F-4E1B-AF2C-66F0276941FF}&page-id={498F71C9-0572-499E-B93C-FC486A77FDA6}&object-id={F1DE7E2F-C35A-47FE-8A70-C27AE5BF2976}&17&base-path=https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第四期_高级字符设备进阶.one)


### 1.2 表示等待队列项：结构体- wait_queue_t
[“2_使用等待队列实现阻塞访问”页上的图片](onenote:#2_使用等待队列实现阻塞访问&section-id={1F166380-B24F-4E1B-AF2C-66F0276941FF}&page-id={498F71C9-0572-499E-B93C-FC486A77FDA6}&object-id={F1DE7E2F-C35A-47FE-8A70-C27AE5BF2976}&20&base-path=https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第四期_高级字符设备进阶.one)


### 1.3 定义并初始化等待队列头
[“2_使用等待队列实现阻塞访问”页上的图片](onenote:#2_使用等待队列实现阻塞访问&section-id={1F166380-B24F-4E1B-AF2C-66F0276941FF}&page-id={498F71C9-0572-499E-B93C-FC486A77FDA6}&object-id={F1DE7E2F-C35A-47FE-8A70-C27AE5BF2976}&2A&base-path=https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第四期_高级字符设备进阶.one)

### 1.4 创建等待队列项
[“2_使用等待队列实现阻塞访问”页上的图片](onenote:#2_使用等待队列实现阻塞访问&section-id={1F166380-B24F-4E1B-AF2C-66F0276941FF}&page-id={498F71C9-0572-499E-B93C-FC486A77FDA6}&object-id={F1DE7E2F-C35A-47FE-8A70-C27AE5BF2976}&33&base-path=https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第四期_高级字符设备进阶.one)


### 添加/删除等待队列项
[“2_使用等待队列实现阻塞访问”页上的图片](onenote:#2_使用等待队列实现阻塞访问&section-id={1F166380-B24F-4E1B-AF2C-66F0276941FF}&page-id={498F71C9-0572-499E-B93C-FC486A77FDA6}&object-id={F1DE7E2F-C35A-47FE-8A70-C27AE5BF2976}&3C&base-path=https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第四期_高级字符设备进阶.one)

### 阻塞等待API函数-让调用进程进入睡眠状态，直到条件满足或被内核唤醒。
[“2_使用等待队列实现阻塞访问”页上的绘图](onenote:#2_使用等待队列实现阻塞访问&section-id={1F166380-B24F-4E1B-AF2C-66F0276941FF}&page-id={498F71C9-0572-499E-B93C-FC486A77FDA6}&object-id={149D10CE-9D42-4689-9700-5BAB8951FA8D}&47&base-path=https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第四期_高级字符设备进阶.one)

### 等待队列唤醒API函数
[“2_使用等待队列实现阻塞访问”页上的图片](onenote:#2_使用等待队列实现阻塞访问&section-id={1F166380-B24F-4E1B-AF2C-66F0276941FF}&page-id={498F71C9-0572-499E-B93C-FC486A77FDA6}&object-id={F1DE7E2F-C35A-47FE-8A70-C27AE5BF2976}&4B&base-path=https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第四期_高级字符设备进阶.one)

### 使用方法步骤
[“2_使用等待队列实现阻塞访问”页上的图片](onenote:#2_使用等待队列实现阻塞访问&section-id={1F166380-B24F-4E1B-AF2C-66F0276941FF}&page-id={498F71C9-0572-499E-B93C-FC486A77FDA6}&object-id={F1DE7E2F-C35A-47FE-8A70-C27AE5BF2976}&54&base-path=https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第四期_高级字符设备进阶.one)

### 代码编写
[“2_使用等待队列实现阻塞访问”页上的图片](onenote:#2_使用等待队列实现阻塞访问&section-id={1F166380-B24F-4E1B-AF2C-66F0276941FF}&page-id={498F71C9-0572-499E-B93C-FC486A77FDA6}&object-id={25FEE346-C5CB-4785-BA45-E385896BA271}&E&base-path=https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第四期_高级字符设备进阶.one)



## 2.非阻塞IO
![RK3568（linux学习）/rk3568芯片开发/linux驱动入门/assets/第四期 高级字符设备进阶/file-20250810171734758.png](assets/第四期%20高级字符设备进阶/file-20250810171734758.png)
### 2.1 通过应用程序选择阻塞和非阻塞
[“3_实现非阻塞访问方式”页上的图片](onenote:#3_实现非阻塞访问方式&section-id={1F166380-B24F-4E1B-AF2C-66F0276941FF}&page-id={94810603-8B15-45B4-ADBC-2E92B08A0B82}&object-id={5BD7C7EE-5223-4F1B-A135-BB4C8E24F9DB}&16&base-path=https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第四期_高级字符设备进阶.one)

### 2.2 驱动代码编写
[这个参数它是一个标志位](onenote:#3_实现非阻塞访问方式&section-id={1F166380-B24F-4E1B-AF2C-66F0276941FF}&page-id={94810603-8B15-45B4-ADBC-2E92B08A0B82}&object-id={63E68A30-2381-479D-8414-6BEF0A38C979}&24&base-path=https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第四期_高级字符设备进阶.one)
[来判断我们在打开文件的时候有没有使用非阻塞这个标志](onenote:#3_实现非阻塞访问方式&section-id={1F166380-B24F-4E1B-AF2C-66F0276941FF}&page-id={94810603-8B15-45B4-ADBC-2E92B08A0B82}&object-id={63E68A30-2381-479D-8414-6BEF0A38C979}&29&base-path=https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第四期_高级字符设备进阶.one)

### 2.3 应用代码编写
[我们加了这个参数](onenote:#3_实现非阻塞访问方式&section-id={1F166380-B24F-4E1B-AF2C-66F0276941FF}&page-id={94810603-8B15-45B4-ADBC-2E92B08A0B82}&object-id={63E68A30-2381-479D-8414-6BEF0A38C979}&30&base-path=https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第四期_高级字符设备进阶.one)
[那么他就要支持非阻塞](onenote:#3_实现非阻塞访问方式&section-id={1F166380-B24F-4E1B-AF2C-66F0276941FF}&page-id={94810603-8B15-45B4-ADBC-2E92B08A0B82}&object-id={63E68A30-2381-479D-8414-6BEF0A38C979}&32&base-path=https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第四期_高级字符设备进阶.one)



## 3.信号驱动IO
![RK3568（linux学习）/rk3568芯片开发/linux驱动入门/assets/第四期 高级字符设备进阶/file-20250810171734921.png](assets/第四期%20高级字符设备进阶/file-20250810171734921.png)

### 3.1 


### 3.2 


### 3.3 


### 3.4 


## 4、IO多路复用
![RK3568（linux学习）/rk3568芯片开发/linux驱动入门/assets/第四期 高级字符设备进阶/file-20250810171735081.png](assets/第四期%20高级字符设备进阶/file-20250810171735081.png)

### 


### 



### 



### 



### 


### 



## 5、异步IO
![RK3568（linux学习）/rk3568芯片开发/linux驱动入门/assets/第四期 高级字符设备进阶/file-20250810171735240.png](assets/第四期%20高级字符设备进阶/file-20250810171735240.png)

### 


### 



### 



### 



### 


### 







# 三、
## 简介:


## 补充：


## 1.Linux定时器使用
[(未)7_Linux定时器使用](onenote:#\(未\)7_Linux定时器使用&section-id={1F166380-B24F-4E1B-AF2C-66F0276941FF}&page-id={52B5C09A-FC3B-41D7-B97A-D366869449EA}&end&base-path=https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第四期_高级字符设备进阶.one)

### 1.1 


### 1.2 


### 1.3 


### 1.4 


## 2.
### 2.1 


### 2.2 


### 2.3 


### 2.4 


## 3.
### 3.1 


### 3.2 


### 3.3 


### 3.4 





# 四、
## 简介:


## 补充：


## 1.
### 1.1 


### 1.2 


### 1.3 


### 1.4 


## 2.
### 2.1 


### 2.2 


### 2.3 


### 2.4 


## 3.
### 3.1 


### 3.2 


### 3.3 


### 3.4 





