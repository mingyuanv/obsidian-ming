---
title: 
aliases: 
tags: 
description:
---

# 备注(声明)：
![RK3568（linux学习）/rk3568芯片开发/linux外设驱动开发（未）/assets/第十五期 12C/file-20250810171750394.png](assets/第十五期%2012C/file-20250810171750394.png)


# 一、基础知识

## I2C基础知识
### 1 、12C总线的特点
[“1.什么是I2C以及I2C基础知识”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#1.什么是I2C以及I2C基础知识&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={BA1A47EE-2F4A-4C3A-9B05-41EFE619CBFB}&object-id={8CF76018-7F27-0CC0-0EB9-31EFC124B1A9}&E)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F1.%E4%BB%80%E4%B9%88%E6%98%AFI2C%E4%BB%A5%E5%8F%8AI2C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%7CBA1A47EE-2F4A-4C3A-9B05-41EFE619CBFB%2F%29&wdpartid=%7bD4CB6B2A-765E-437A-89D9-C61796D89223%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

### 2 、I2C标准的PDF
[“1.什么是I2C以及I2C基础知识”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#1.什么是I2C以及I2C基础知识&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={BA1A47EE-2F4A-4C3A-9B05-41EFE619CBFB}&object-id={8CF76018-7F27-0CC0-0EB9-31EFC124B1A9}&16)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F1.%E4%BB%80%E4%B9%88%E6%98%AFI2C%E4%BB%A5%E5%8F%8AI2C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%7CBA1A47EE-2F4A-4C3A-9B05-41EFE619CBFB%2F%29&wdpartid=%7bD4CB6B2A-765E-437A-89D9-C61796D89223%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

- 1 UM10204.pdf

### 3 、



## RK3568的I2C接口
### 1 、6路 I2C
[“2.RK3568的I2C接口”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#2.RK3568的I2C接口&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={C129864F-8425-4F4E-BDF9-7D09DAA6EF97}&object-id={36C95018-0691-0B55-18C3-E39CCA0081F6}&14)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F2.RK3568%E7%9A%84I2C%E6%8E%A5%E5%8F%A3%7CC129864F-8425-4F4E-BDF9-7D09DAA6EF97%2F%29&wdpartid=%7b1D1517AA-9A24-4B17-9684-74F26D2CB26A%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

- 1 硬件I2C功能
### 2 、RK3568 开发板上的 I2c的使用情况
[“2.RK3568的I2C接口”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#2.RK3568的I2C接口&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={C129864F-8425-4F4E-BDF9-7D09DAA6EF97}&object-id={36C95018-0691-0B55-18C3-E39CCA0081F6}&71)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F2.RK3568%E7%9A%84I2C%E6%8E%A5%E5%8F%A3%7CC129864F-8425-4F4E-BDF9-7D09DAA6EF97%2F%29&wdpartid=%7b1D1517AA-9A24-4B17-9684-74F26D2CB26A%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

- 1 你不能同时啊，把这两组引脚都作为IC2来使用
### 3 、




## I2C分析
### 1 、12C 规范-为什么I2C要接上拉电阻
[“3.为什么I2C要接上拉电阻”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#3.为什么I2C要接上拉电阻&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={2496FF54-4F31-4FF8-A0E0-40B2AA7923C0}&object-id={058435C9-1FBE-0F5A-088D-C92ABE5208FB}&4B)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F3.%E4%B8%BA%E4%BB%80%E4%B9%88I2C%E8%A6%81%E6%8E%A5%E4%B8%8A%E6%8B%89%E7%94%B5%E9%98%BB%7C2496FF54-4F31-4FF8-A0E0-40B2AA7923C0%2F%29&wdpartid=%7b6F3CA369-5C98-46CB-91F9-4A7F4A7D75F5%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

### 2 、为什么不用推挽输出？
[“3.为什么I2C要接上拉电阻”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#3.为什么I2C要接上拉电阻&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={2496FF54-4F31-4FF8-A0E0-40B2AA7923C0}&object-id={9A253A71-A9AD-0848-3ABD-5C28721C52B9}&22)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F3.%E4%B8%BA%E4%BB%80%E4%B9%88I2C%E8%A6%81%E6%8E%A5%E4%B8%8A%E6%8B%89%E7%94%B5%E9%98%BB%7C2496FF54-4F31-4FF8-A0E0-40B2AA7923C0%2F%29&wdpartid=%7b6F3CA369-5C98-46CB-91F9-4A7F4A7D75F5%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

### 3 、上拉电阻的取值的影响
[“3.为什么I2C要接上拉电阻”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#3.为什么I2C要接上拉电阻&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={2496FF54-4F31-4FF8-A0E0-40B2AA7923C0}&object-id={9A253A71-A9AD-0848-3ABD-5C28721C52B9}&3C)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F3.%E4%B8%BA%E4%BB%80%E4%B9%88I2C%E8%A6%81%E6%8E%A5%E4%B8%8A%E6%8B%89%E7%94%B5%E9%98%BB%7C2496FF54-4F31-4FF8-A0E0-40B2AA7923C0%2F%29&wdpartid=%7b6F3CA369-5C98-46CB-91F9-4A7F4A7D75F5%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

### 4 、I2C上拉电阻阻值计算
[4.I2C上拉电阻阻值计算](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#4.I2C上拉电阻阻值计算&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={1BDF1367-1D7A-4EC2-A004-73C85541C468}&end)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F4.I2C%E4%B8%8A%E6%8B%89%E7%94%B5%E9%98%BB%E9%98%BB%E5%80%BC%E8%AE%A1%E7%AE%97%7C1BDF1367-1D7A-4EC2-A004-73C85541C468%2F%29&wdpartid=%7b2950040D-E7C8-42BE-8C90-C628D2DDE068%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

### 5、



## I2C通信时序介绍
### 1 、起始和终止信号
[“5.I2C通信时序介绍”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#5.I2C通信时序介绍&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={CA15C8EF-4DF6-453D-A339-50E2A735BC65}&object-id={191E6FED-7BC8-0AE8-0DC1-8C22179CBAEE}&14)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F5.I2C%E9%80%9A%E4%BF%A1%E6%97%B6%E5%BA%8F%E4%BB%8B%E7%BB%8D%7CCA15C8EF-4DF6-453D-A339-50E2A735BC65%2F%29&wdpartid=%7b71B9AC09-CB40-41FD-B517-9FE5BB8F7D0B%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))1

### 2 、数据格式
[“5.I2C通信时序介绍”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#5.I2C通信时序介绍&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={CA15C8EF-4DF6-453D-A339-50E2A735BC65}&object-id={191E6FED-7BC8-0AE8-0DC1-8C22179CBAEE}&23)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F5.I2C%E9%80%9A%E4%BF%A1%E6%97%B6%E5%BA%8F%E4%BB%8B%E7%BB%8D%7CCA15C8EF-4DF6-453D-A339-50E2A735BC65%2F%29&wdpartid=%7b71B9AC09-CB40-41FD-B517-9FE5BB8F7D0B%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

- 1 8位加确认位
### 3 、应答和非应答信号
[“5.I2C通信时序介绍”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#5.I2C通信时序介绍&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={CA15C8EF-4DF6-453D-A339-50E2A735BC65}&object-id={191E6FED-7BC8-0AE8-0DC1-8C22179CBAEE}&30)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F5.I2C%E9%80%9A%E4%BF%A1%E6%97%B6%E5%BA%8F%E4%BB%8B%E7%BB%8D%7CCA15C8EF-4DF6-453D-A339-50E2A735BC65%2F%29&wdpartid=%7b71B9AC09-CB40-41FD-B517-9FE5BB8F7D0B%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

### 4 、读写方向
[“5.I2C通信时序介绍”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#5.I2C通信时序介绍&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={CA15C8EF-4DF6-453D-A339-50E2A735BC65}&object-id={191E6FED-7BC8-0AE8-0DC1-8C22179CBAEE}&96)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F5.I2C%E9%80%9A%E4%BF%A1%E6%97%B6%E5%BA%8F%E4%BB%8B%E7%BB%8D%7CCA15C8EF-4DF6-453D-A339-50E2A735BC65%2F%29&wdpartid=%7b71B9AC09-CB40-41FD-B517-9FE5BB8F7D0B%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

### 5、



## I2C子系统
### 1 、框架图分析
![RK3568（linux学习）/rk3568芯片开发/linux外设驱动开发（未）/assets/第十五期 12C/file-20250810171750575.png](assets/第十五期%2012C/file-20250810171750575.png)

### 2 、I2C设备驱动层
> [!note] 设备驱动层
> 编写IPHONEC外设的驱动程序
> 让IPHONEC<span style="background:#d3f8b6">外设能够工作起来</span>
> 第二个作用是<span style="background:#d3f8b6">创建设备节点，</span>
> IPHONEC设备驱动层并没有直接和硬件层打交道
> 他<span style="background:#d3f8b6">把数据交给了IPHONEC核心层</span>
> 

### 3 、I2C核心层

> [!note] 核心层
> 作用就是<span style="background:#affad1">承上启下</span>
> 也就是把IPHONEC设备驱动层的数据
> 给到IPHONEC适配器驱动层
> 
><span style="background:#affad1"> 这部分的代码是LINUX直接帮我们做好的</span>

- 1 大管家，处理应用层程序调用冲突


> [!tldr] 编写I2C外设驱动程序
> 如果要用IPHONEC发数据
> 我们<span style="background:#affad1">直接调用IPHONEC核心层</span><span style="background:#affad1"> ，这个大管家给我们提供的API函数就可以了</span>
> 

### 4 、I2C适配器驱动层
> [!note] 适配器驱动层
> 就是编写IPHONEC<span style="background:#affad1">控制器(i2C_adapter)的驱动程序</span>
> 让IPHONEC控制器能够工作起来
> 也就是让IPHONEC控制器能够产生
> IPHONEC通讯所需要的波形
> IPHONEC控制器它是一个硬件
> 
> 这部分的工作是由<span style="background:#affad1">原厂的工程师</span>


### 5、




## 驱动API函数讲解 - I2C通信部分
### 1 、i2c_master_recv函数 -读数据
[“16.I2C通信部分（驱动API函数讲解）”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#16.I2C通信部分（驱动API函数讲解）&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={A8385E4A-2869-463E-B8E6-153283DEDDE4}&object-id={998BFAF3-F6B9-085B-0EB7-467976302E56}&20)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F16.I2C%E9%80%9A%E4%BF%A1%E9%83%A8%E5%88%86%EF%BC%88%E9%A9%B1%E5%8A%A8API%E5%87%BD%E6%95%B0%E8%AE%B2%E8%A7%A3%EF%BC%89%7CA8385E4A-2869-463E-B8E6-153283DEDDE4%2F%29&wdpartid=%7b7C2A692C-1945-4925-BC2C-3C3D6AE815E4%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

### 2 、i2c_master_send函数 - 写数据
[“16.I2C通信部分（驱动API函数讲解）”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#16.I2C通信部分（驱动API函数讲解）&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={A8385E4A-2869-463E-B8E6-153283DEDDE4}&object-id={998BFAF3-F6B9-085B-0EB7-467976302E56}&20)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F16.I2C%E9%80%9A%E4%BF%A1%E9%83%A8%E5%88%86%EF%BC%88%E9%A9%B1%E5%8A%A8API%E5%87%BD%E6%95%B0%E8%AE%B2%E8%A7%A3%EF%BC%89%7CA8385E4A-2869-463E-B8E6-153283DEDDE4%2F%29&wdpartid=%7b7C2A692C-1945-4925-BC2C-3C3D6AE815E4%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

### 3 、i2c_transfer函数 - 数据包发送和接收
[“16.I2C通信部分（驱动API函数讲解）”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#16.I2C通信部分（驱动API函数讲解）&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={A8385E4A-2869-463E-B8E6-153283DEDDE4}&object-id={998BFAF3-F6B9-085B-0EB7-467976302E56}&28)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F16.I2C%E9%80%9A%E4%BF%A1%E9%83%A8%E5%88%86%EF%BC%88%E9%A9%B1%E5%8A%A8API%E5%87%BD%E6%95%B0%E8%AE%B2%E8%A7%A3%EF%BC%89%7CA8385E4A-2869-463E-B8E6-153283DEDDE4%2F%29&wdpartid=%7b7C2A692C-1945-4925-BC2C-3C3D6AE815E4%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

### 4 、i2c_msg结构体分析
[struct i2c_msg {](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#16.I2C通信部分（驱动API函数讲解）&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={A8385E4A-2869-463E-B8E6-153283DEDDE4}&object-id={998BFAF3-F6B9-085B-0EB7-467976302E56}&63)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F16.I2C%E9%80%9A%E4%BF%A1%E9%83%A8%E5%88%86%EF%BC%88%E9%A9%B1%E5%8A%A8API%E5%87%BD%E6%95%B0%E8%AE%B2%E8%A7%A3%EF%BC%89%7CA8385E4A-2869-463E-B8E6-153283DEDDE4%2F%29&wdpartid=%7b7C2A692C-1945-4925-BC2C-3C3D6AE815E4%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

### 5、


















# 二、理论讲解和实验操作

## ft5x06介绍与去掉默认驱动
### 1 、ft5x06引脚原理图分析（mipi）
[“6.ft5x06介绍与去掉默认驱动”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#6.ft5x06介绍与去掉默认驱动&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={C19726B8-2D5E-47BE-A27B-80C3D394E143}&object-id={70AB15F9-4C17-0EA6-1249-4FFCE436B7BB}&3D)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F6.ft5x06%E4%BB%8B%E7%BB%8D%E4%B8%8E%E5%8E%BB%E6%8E%89%E9%BB%98%E8%AE%A4%E9%A9%B1%E5%8A%A8%7CC19726B8-2D5E-47BE-A27B-80C3D394E143%2F%29&wdpartid=%7b1A3FCD6B-5BE9-43FF-9570-A2FF3A0092A9%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

### 2 、去掉ft5x06默认驱动 ，和设备树
[去掉ft5x06默认驱动 ，和设备树](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#6.ft5x06介绍与去掉默认驱动&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={C19726B8-2D5E-47BE-A27B-80C3D394E143}&object-id={35C2833A-67D4-0CAC-34A8-4C6E6EECB6C6}&27)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F6.ft5x06%E4%BB%8B%E7%BB%8D%E4%B8%8E%E5%8E%BB%E6%8E%89%E9%BB%98%E8%AE%A4%E9%A9%B1%E5%8A%A8%7CC19726B8-2D5E-47BE-A27B-80C3D394E143%2F%29&wdpartid=%7b1A3FCD6B-5BE9-43FF-9570-A2FF3A0092A9%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

### 3 、


## 编写i2c_client代码(设备树)
### 1 、分析I2C控制器节点
[“9.编写i2c_client代码(设备树)”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#9.编写i2c_client代码\(设备树\)&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={37749EB9-D709-415B-A2F4-E20678096968}&object-id={1C972212-E913-011B-1D8F-5C8C7E0F298C}&31)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F9.%E7%BC%96%E5%86%99i2c_client%E4%BB%A3%E7%A0%81%28%E8%AE%BE%E5%A4%87%E6%A0%91%5C%29%7C37749EB9-D709-415B-A2F4-E20678096968%2F%29&wdpartid=%7b9B64E9F7-AB7A-4BB4-B36B-5FFE4D3ACB56%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

### 2 、分析I2C控制器节点下挂载I2C外设- i2c_client代码
[“9.编写i2c_client代码(设备树)”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#9.编写i2c_client代码\(设备树\)&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={37749EB9-D709-415B-A2F4-E20678096968}&object-id={1C972212-E913-011B-1D8F-5C8C7E0F298C}&39)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F9.%E7%BC%96%E5%86%99i2c_client%E4%BB%A3%E7%A0%81%28%E8%AE%BE%E5%A4%87%E6%A0%91%5C%29%7C37749EB9-D709-415B-A2F4-E20678096968%2F%29&wdpartid=%7b9B64E9F7-AB7A-4BB4-B36B-5FFE4D3ACB56%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))


### 4 、编写FT5X06对应的设备节点
[“14.编写FT5X06对应的设备节点”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#14.编写FT5X06对应的设备节点&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={8B62B7A4-F6EB-4469-9757-FB7C034366AD}&object-id={F01AB775-D9BD-0C5A-2E80-D3DDEA49035F}&C3)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F14.%E7%BC%96%E5%86%99FT5X06%E5%AF%B9%E5%BA%94%E7%9A%84%E8%AE%BE%E5%A4%87%E8%8A%82%E7%82%B9%7C8B62B7A4-F6EB-4469-9757-FB7C034366AD%2F%29&wdpartid=%7b56A0E2F7-8F8E-4D27-9593-30359C494C76%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

### 5、用C文件编写i2c_client代码
- 1 同学们了解一下就可以了，用这种方式的一般都是老的项目在用

#### 1 、i2c_adapter结构体指针-存储I2C适配器的信息
[// 定义一个i2c_adapter结构体指针，用于存储I2C适配器的信息](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#12.使用C文件编写i2c_client代码&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={F4400708-B7B7-4702-8387-1A01C49DB95D}&object-id={13E9BBEF-1281-0BB8-3819-DDE7EEA6D145}&43)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F12.%E4%BD%BF%E7%94%A8C%E6%96%87%E4%BB%B6%E7%BC%96%E5%86%99i2c_client%E4%BB%A3%E7%A0%81%7CF4400708-B7B7-4702-8387-1A01C49DB95D%2F%29&wdpartid=%7bD62F6C2B-F176-494D-8ABD-4E8E9CB942F0%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

#### 2 、获取I2C适配器
[// 获取I2C适配器，参数1表示I2C适配器的编号](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#12.使用C文件编写i2c_client代码&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={F4400708-B7B7-4702-8387-1A01C49DB95D}&object-id={39CC0463-7E67-08B2-285E-6D5C0D69B472}&16)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F12.%E4%BD%BF%E7%94%A8C%E6%96%87%E4%BB%B6%E7%BC%96%E5%86%99i2c_client%E4%BB%A3%E7%A0%81%7CF4400708-B7B7-4702-8387-1A01C49DB95D%2F%29&wdpartid=%7bD62F6C2B-F176-494D-8ABD-4E8E9CB942F0%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

#### 3 、定义i2c_board_info结构体数组，用于描述ft5x06设备
[// 定义i2c_board_info结构体数组，用于描述ft5x06设备](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#12.使用C文件编写i2c_client代码&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={F4400708-B7B7-4702-8387-1A01C49DB95D}&object-id={13E9BBEF-1281-0BB8-3819-DDE7EEA6D145}&E1)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F12.%E4%BD%BF%E7%94%A8C%E6%96%87%E4%BB%B6%E7%BC%96%E5%86%99i2c_client%E4%BB%A3%E7%A0%81%7CF4400708-B7B7-4702-8387-1A01C49DB95D%2F%29&wdpartid=%7bD62F6C2B-F176-494D-8ABD-4E8E9CB942F0%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

#### 4 、注册ft5x06设备到I2C适配器
[// 注册ft5x06设备到I2C适配器](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#12.使用C文件编写i2c_client代码&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={F4400708-B7B7-4702-8387-1A01C49DB95D}&object-id={39CC0463-7E67-08B2-285E-6D5C0D69B472}&27)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F12.%E4%BD%BF%E7%94%A8C%E6%96%87%E4%BB%B6%E7%BC%96%E5%86%99i2c_client%E4%BB%A3%E7%A0%81%7CF4400708-B7B7-4702-8387-1A01C49DB95D%2F%29&wdpartid=%7bD62F6C2B-F176-494D-8ABD-4E8E9CB942F0%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))



## 编写i2c_driver程序 - FT5X06
### 1 、编写i2c_driver程序框架
[10.编写i2c_driver程序框架](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#10.编写i2c_driver程序框架&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={ED9ED1C1-167B-465D-9806-FCC619E13E32}&end)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F10.%E7%BC%96%E5%86%99i2c_driver%E7%A8%8B%E5%BA%8F%E6%A1%86%E6%9E%B6%7CED9ED1C1-167B-465D-9806-FCC619E13E32%2F%29&wdpartid=%7b62080054-DB18-4A7E-82D4-3DA4C657211E%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

- **I2C驱动框架流程图**
[[RK3568（linux学习）/驱动子系统思维导图/I2C驱动框架.canvas|I2C驱动框架]]# 2 、编写和设备树(i2c_client)匹配的匹配规则-of_match_table
[11.编写和设备树(i2c_client)匹配的匹配规则](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#11.编写和设备树\(i2c_client\)匹配的匹配规则&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={FC2B71EF-D487-4353-88A6-2AAF267EA6FA}&end)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F11.%E7%BC%96%E5%86%99%E5%92%8C%E8%AE%BE%E5%A4%87%E6%A0%91%28i2c_client%5C%29%E5%8C%B9%E9%85%8D%E7%9A%84%E5%8C%B9%E9%85%8D%E8%A7%84%E5%88%99%7CFC2B71EF-D487-4353-88A6-2AAF267EA6FA%2F%29&wdpartid=%7b03AFE48C-E6FC-4661-ABF2-A3D653F0F295%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

- **匹配后生成设备节点**
[“11.编写和设备树(i2c_client)匹配的匹配规则”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#11.编写和设备树\(i2c_client\)匹配的匹配规则&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={FC2B71EF-D487-4353-88A6-2AAF267EA6FA}&object-id={AC2EF935-7D2A-0DE1-2874-BF4D964FFD9D}&31)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F11.%E7%BC%96%E5%86%99%E5%92%8C%E8%AE%BE%E5%A4%87%E6%A0%91%28i2c_client%5C%29%E5%8C%B9%E9%85%8D%E7%9A%84%E5%8C%B9%E9%85%8D%E8%A7%84%E5%88%99%7CFC2B71EF-D487-4353-88A6-2AAF267EA6FA%2F%29&wdpartid=%7b03AFE48C-E6FC-4661-ABF2-A3D653F0F295%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))
### 3 、编写和用C实现的i2c_client的匹配的匹配规则-id_table

- 1 同学们了解一下就可以了，用这种方式的一般都是老的项目在用

[// 定义 i2c_device_id 结构体数组,用于标识 ft5x06 设备](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#13.编写和用C实现的i2c_client的匹配的匹配规则&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={C677A658-B68E-42E8-8EEC-6B6CD9442EAD}&object-id={00003370-7D23-057A-01F7-5EB28976C478}&44)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F13.%E7%BC%96%E5%86%99%E5%92%8C%E7%94%A8C%E5%AE%9E%E7%8E%B0%E7%9A%84i2c_client%E7%9A%84%E5%8C%B9%E9%85%8D%E7%9A%84%E5%8C%B9%E9%85%8D%E8%A7%84%E5%88%99%7CC677A658-B68E-42E8-8EEC-6B6CD9442EAD%2F%29&wdpartid=%7b1FC791D8-3374-4C1C-A2A1-4AE86153B3B1%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

### 4 、编写中断函数
#### ft5x06 中断处理函数
[// ft5x06 中断处理函数](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#15.编写FT5X06对应的驱动程序-中断函数&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={D5AA0FB8-C479-4F1C-93D4-585D6A43F696}&object-id={D149CA6E-1C5C-0133-0B0F-1106A2621F37}&E4)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F15.%E7%BC%96%E5%86%99FT5X06%E5%AF%B9%E5%BA%94%E7%9A%84%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F-%E4%B8%AD%E6%96%AD%E5%87%BD%E6%95%B0%7CD5AA0FB8-C479-4F1C-93D4-585D6A43F696%2F%29&wdpartid=%7b84AC325C-5985-41D1-A3DE-5942ADC6ACD6%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

#### probe函数中请求中断 和 设置 reset
[int ft5x06_probe(struct i2c_client *client, const struct](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#15.编写FT5X06对应的驱动程序-中断函数&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={D5AA0FB8-C479-4F1C-93D4-585D6A43F696}&object-id={4ACE4C69-F895-04AC-0F7F-41F404AA34AC}&D)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F15.%E7%BC%96%E5%86%99FT5X06%E5%AF%B9%E5%BA%94%E7%9A%84%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F-%E4%B8%AD%E6%96%AD%E5%87%BD%E6%95%B0%7CD5AA0FB8-C479-4F1C-93D4-585D6A43F696%2F%29&wdpartid=%7b84AC325C-5985-41D1-A3DE-5942ADC6ACD6%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

#### 中断实验现象
[“15.编写FT5X06对应的驱动程序-中断函数”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#15.编写FT5X06对应的驱动程序-中断函数&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={D5AA0FB8-C479-4F1C-93D4-585D6A43F696}&object-id={D149CA6E-1C5C-0133-0B0F-1106A2621F37}&A3)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F15.%E7%BC%96%E5%86%99FT5X06%E5%AF%B9%E5%BA%94%E7%9A%84%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F-%E4%B8%AD%E6%96%AD%E5%87%BD%E6%95%B0%7CD5AA0FB8-C479-4F1C-93D4-585D6A43F696%2F%29&wdpartid=%7b84AC325C-5985-41D1-A3DE-5942ADC6ACD6%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

### 5、对ft5x06的寄存器进行读写
#### 打开I2C外设对应的数据手册 - 对寄存器进行操作
[“17.I2C通信部分（驱动代码编写）-对ft5x06的寄存器进行读写”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#17.I2C通信部分（驱动代码编写）-对ft5x06的寄存器进行读写&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={BF50EF37-8030-4FD1-BF2B-24C3DCA45B5C}&object-id={8B8FBD0E-0727-00D9-005E-C8B3326B49E3}&14)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F17.I2C%E9%80%9A%E4%BF%A1%E9%83%A8%E5%88%86%EF%BC%88%E9%A9%B1%E5%8A%A8%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%EF%BC%89-%E5%AF%B9ft5x06%E7%9A%84%E5%AF%84%E5%AD%98%E5%99%A8%E8%BF%9B%E8%A1%8C%E8%AF%BB%E5%86%99%7CBF50EF37-8030-4FD1-BF2B-24C3DCA45B5C%2F%29&wdpartid=%7b471ABAF3-705D-4D2A-8746-06E44CE1E7F2%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

- 1 可读可写的地址是0X80
- 
#### 读取 ft5x06 设备寄存器的函数
[* 读取 ft5x06 设备寄存器的函数](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#17.I2C通信部分（驱动代码编写）-对ft5x06的寄存器进行读写&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={BF50EF37-8030-4FD1-BF2B-24C3DCA45B5C}&object-id={8B8FBD0E-0727-00D9-005E-C8B3326B49E3}&96)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F17.I2C%E9%80%9A%E4%BF%A1%E9%83%A8%E5%88%86%EF%BC%88%E9%A9%B1%E5%8A%A8%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%EF%BC%89-%E5%AF%B9ft5x06%E7%9A%84%E5%AF%84%E5%AD%98%E5%99%A8%E8%BF%9B%E8%A1%8C%E8%AF%BB%E5%86%99%7CBF50EF37-8030-4FD1-BF2B-24C3DCA45B5C%2F%29&wdpartid=%7b471ABAF3-705D-4D2A-8746-06E44CE1E7F2%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

#### 向 ft5x06 设备写入寄存器的函数
[* 向 ft5x06 设备写入寄存器的函数](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#17.I2C通信部分（驱动代码编写）-对ft5x06的寄存器进行读写&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={BF50EF37-8030-4FD1-BF2B-24C3DCA45B5C}&object-id={8B8FBD0E-0727-00D9-005E-C8B3326B49E3}&D5)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F17.I2C%E9%80%9A%E4%BF%A1%E9%83%A8%E5%88%86%EF%BC%88%E9%A9%B1%E5%8A%A8%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%EF%BC%89-%E5%AF%B9ft5x06%E7%9A%84%E5%AF%84%E5%AD%98%E5%99%A8%E8%BF%9B%E8%A1%8C%E8%AF%BB%E5%86%99%7CBF50EF37-8030-4FD1-BF2B-24C3DCA45B5C%2F%29&wdpartid=%7b471ABAF3-705D-4D2A-8746-06E44CE1E7F2%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

#### 实验操作
> [!note] 函数使用
>     // 写寄存器
>     ft5x06_write_reg(0x80, &(u8){0x4b}, 1);
>     // 读寄存器
>     value = ft5x06_read_reg(0x80);
>     printk("reg 0x80 is %x\n", value);

[“17.I2C通信部分（驱动代码编写）-对ft5x06的寄存器进行读写”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#17.I2C通信部分（驱动代码编写）-对ft5x06的寄存器进行读写&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={BF50EF37-8030-4FD1-BF2B-24C3DCA45B5C}&object-id={E2B43ABB-1DB0-0074-1408-C43FF62C9FE3}&F5)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F17.I2C%E9%80%9A%E4%BF%A1%E9%83%A8%E5%88%86%EF%BC%88%E9%A9%B1%E5%8A%A8%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%EF%BC%89-%E5%AF%B9ft5x06%E7%9A%84%E5%AF%84%E5%AD%98%E5%99%A8%E8%BF%9B%E8%A1%8C%E8%AF%BB%E5%86%99%7CBF50EF37-8030-4FD1-BF2B-24C3DCA45B5C%2F%29&wdpartid=%7b471ABAF3-705D-4D2A-8746-06E44CE1E7F2%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))
#### 


### 6、输入子系统 - 编学上报数据代码
#### 注册输入设备，向用户空间报告坐标事件
[// 注册输入设备，使其可以向用户空间报告事件](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#20.编写FT5X06驱动程序的数据上报部分代码（一）&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={21A19806-9B49-4313-A9D7-D970ED713C80}&object-id={A8699973-87A3-0065-2FFB-6A4074A8AC0B}&6D)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F20.%E7%BC%96%E5%86%99FT5X06%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%95%B0%E6%8D%AE%E4%B8%8A%E6%8A%A5%E9%83%A8%E5%88%86%E4%BB%A3%E7%A0%81%EF%BC%88%E4%B8%80%EF%BC%89%7C21A19806-9B49-4313-A9D7-D970ED713C80%2F%29&wdpartid=%7b5E198669-D99B-4D6F-BEDC-475424FA8266%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

#### 加入工作队列-在中断下文中处理触摸事件上报

- **从寄存器中读取触摸坐标数据**
[// 从寄存器中读取触摸坐标数据](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#21.编写FT5X06驱动程序的数据上报部分代码（二）&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={176DC477-B355-4602-B7FC-18EC08871655}&object-id={B14CEF56-E7A8-0B29-1C0D-B6BCF54D7926}&BB)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F21.%E7%BC%96%E5%86%99FT5X06%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%95%B0%E6%8D%AE%E4%B8%8A%E6%8A%A5%E9%83%A8%E5%88%86%E4%BB%A3%E7%A0%81%EF%BC%88%E4%BA%8C%EF%BC%89%7C176DC477-B355-4602-B7FC-18EC08871655%2F%29&wdpartid=%7b5D0E8B37-70AF-4866-B90C-C628580D946B%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

- **根据触摸状态更新输入设备**
[// 根据触摸状态更新输入设备](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#21.编写FT5X06驱动程序的数据上报部分代码（二）&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={176DC477-B355-4602-B7FC-18EC08871655}&object-id={B14CEF56-E7A8-0B29-1C0D-B6BCF54D7926}&CF)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F21.%E7%BC%96%E5%86%99FT5X06%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%95%B0%E6%8D%AE%E4%B8%8A%E6%8A%A5%E9%83%A8%E5%88%86%E4%BB%A3%E7%A0%81%EF%BC%88%E4%BA%8C%EF%BC%89%7C176DC477-B355-4602-B7FC-18EC08871655%2F%29&wdpartid=%7b5D0E8B37-70AF-4866-B90C-C628580D946B%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

#### 分析触摸芯片手册- 触摸寄存器
[“21.编写FT5X06驱动程序的数据上报部分代码（二）”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#21.编写FT5X06驱动程序的数据上报部分代码（二）&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={176DC477-B355-4602-B7FC-18EC08871655}&object-id={F7739112-17B4-0D10-2A18-EDB0B9741CA9}&4E)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F21.%E7%BC%96%E5%86%99FT5X06%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%95%B0%E6%8D%AE%E4%B8%8A%E6%8A%A5%E9%83%A8%E5%88%86%E4%BB%A3%E7%A0%81%EF%BC%88%E4%BA%8C%EF%BC%89%7C176DC477-B355-4602-B7FC-18EC08871655%2F%29&wdpartid=%7b5D0E8B37-70AF-4866-B90C-C628580D946B%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))


### 7、



## 通过逻辑分析仪认识I2C波形 - 对ft5x06的寄存器进行读写
### 1 、写操作分析
[“19.通过逻辑分析仪认识I2C波形”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#19.通过逻辑分析仪认识I2C波形&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={F2EB402C-AA67-4DBD-A2A9-88FC3726D829}&object-id={9444FADD-9153-096F-0669-FAD4F3849761}&93)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F19.%E9%80%9A%E8%BF%87%E9%80%BB%E8%BE%91%E5%88%86%E6%9E%90%E4%BB%AA%E8%AE%A4%E8%AF%86I2C%E6%B3%A2%E5%BD%A2%7CF2EB402C-AA67-4DBD-A2A9-88FC3726D829%2F%29&wdpartid=%7bBDE0C0BD-9A87-47E1-A346-8154FC245D48%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

### 2 、读操作分析
[“19.通过逻辑分析仪认识I2C波形”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#19.通过逻辑分析仪认识I2C波形&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={F2EB402C-AA67-4DBD-A2A9-88FC3726D829}&object-id={9444FADD-9153-096F-0669-FAD4F3849761}&E0)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F19.%E9%80%9A%E8%BF%87%E9%80%BB%E8%BE%91%E5%88%86%E6%9E%90%E4%BB%AA%E8%AE%A4%E8%AF%86I2C%E6%B3%A2%E5%BD%A2%7CF2EB402C-AA67-4DBD-A2A9-88FC3726D829%2F%29&wdpartid=%7bBDE0C0BD-9A87-47E1-A346-8154FC245D48%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

### 3 、



## 分析触摸芯片上报数据
### 1 、事件类型等在内核中的宏定义
[“22.分析触摸芯片上报数据”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#22.分析触摸芯片上报数据&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={747C92E8-7329-4519-AD1A-7386A6736AE3}&object-id={FCE62255-359F-0252-03C0-7EE29CD1F52E}&64)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F22.%E5%88%86%E6%9E%90%E8%A7%A6%E6%91%B8%E8%8A%AF%E7%89%87%E4%B8%8A%E6%8A%A5%E6%95%B0%E6%8D%AE%7C747C92E8-7329-4519-AD1A-7386A6736AE3%2F%29&wdpartid=%7b2FFC24BF-7EF9-4F01-B525-D89DEB455B51%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

### 2 、分析上报事件
[“22.分析触摸芯片上报数据”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#22.分析触摸芯片上报数据&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={747C92E8-7329-4519-AD1A-7386A6736AE3}&object-id={FCE62255-359F-0252-03C0-7EE29CD1F52E}&25)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F22.%E5%88%86%E6%9E%90%E8%A7%A6%E6%91%B8%E8%8A%AF%E7%89%87%E4%B8%8A%E6%8A%A5%E6%95%B0%E6%8D%AE%7C747C92E8-7329-4519-AD1A-7386A6736AE3%2F%29&wdpartid=%7b2FFC24BF-7EF9-4F01-B525-D89DEB455B51%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

[“22.分析触摸芯片上报数据”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#22.分析触摸芯片上报数据&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={747C92E8-7329-4519-AD1A-7386A6736AE3}&object-id={FCE62255-359F-0252-03C0-7EE29CD1F52E}&AE)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F22.%E5%88%86%E6%9E%90%E8%A7%A6%E6%91%B8%E8%8A%AF%E7%89%87%E4%B8%8A%E6%8A%A5%E6%95%B0%E6%8D%AE%7C747C92E8-7329-4519-AD1A-7386A6736AE3%2F%29&wdpartid=%7b2FFC24BF-7EF9-4F01-B525-D89DEB455B51%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))
### 3 、



## 编写测试APP - 解析上报数据
### 1 、input_event结构体 - 存储读取到的事件
[struct input_event event; // 定义一个input_event结构体，用于存储读取到的事件](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#23.编写FT5X06驱动程序测试APP&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={09B0F123-6316-402E-93BB-5D72715AE94D}&object-id={D63401ED-E3B2-0564-1620-FC8A4811E29A}&36)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F23.%E7%BC%96%E5%86%99FT5X06%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F%E6%B5%8B%E8%AF%95APP%7C09B0F123-6316-402E-93BB-5D72715AE94D%2F%29&wdpartid=%7b4EB8473F-69AD-4EF5-8897-7872158B8B82%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

### 2 、解析事件
[// 判断事件类型是否为绝对坐标事件（EV_ABS）](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#23.编写FT5X06驱动程序测试APP&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={09B0F123-6316-402E-93BB-5D72715AE94D}&object-id={D63401ED-E3B2-0564-1620-FC8A4811E29A}&58)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F23.%E7%BC%96%E5%86%99FT5X06%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F%E6%B5%8B%E8%AF%95APP%7C09B0F123-6316-402E-93BB-5D72715AE94D%2F%29&wdpartid=%7b4EB8473F-69AD-4EF5-8897-7872158B8B82%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

### 3 、实验现象

[“23.编写FT5X06驱动程序测试APP”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#23.编写FT5X06驱动程序测试APP&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={09B0F123-6316-402E-93BB-5D72715AE94D}&object-id={D63401ED-E3B2-0564-1620-FC8A4811E29A}&AA)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F23.%E7%BC%96%E5%86%99FT5X06%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F%E6%B5%8B%E8%AF%95APP%7C09B0F123-6316-402E-93BB-5D72715AE94D%2F%29&wdpartid=%7b4EB8473F-69AD-4EF5-8897-7872158B8B82%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))
### 4 、






# 三、扩展分析解析

## i2c_transfer函数解析（未）
[18.i2c_transfer函数解析](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#18.i2c_transfer函数解析&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={47542F46-8DC4-4BBC-BC64-8FD58C3E8316}&end)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F18.i2c_transfer%E5%87%BD%E6%95%B0%E8%A7%A3%E6%9E%90%7C47542F46-8DC4-4BBC-BC64-8FD58C3E8316%2F%29&wdpartid=%7bDECC3692-079D-4DCE-80D6-D33989A45B1F%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))

### 1 、


### 2 、


### 3 、

### 4 、

### 5、


### 6、


### 7、


### 8、



## 扩展：探究i2c_client结构体（未）
[24.扩展：探究i2c_client结构体（一）](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十五期_I2C.one#24.扩展：探究i2c_client结构体（一）&section-id={0518522B-8622-45C6-A98D-1B9BABDA4E20}&page-id={FA40CFA2-3D22-4E19-93E5-74BE7DD14537}&end)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E4%BA%94%E6%9C%9F_I2C.one%7C0518522B-8622-45C6-A98D-1B9BABDA4E20%2F24.%E6%89%A9%E5%B1%95%EF%BC%9A%E6%8E%A2%E7%A9%B6i2c_client%E7%BB%93%E6%9E%84%E4%BD%93%EF%BC%88%E4%B8%80%EF%BC%89%7CFA40CFA2-3D22-4E19-93E5-74BE7DD14537%2F%29&wdpartid=%7bEDACD2D9-6220-46E9-A0BC-9AB543AE12BA%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sc3d6748003ce46249706e1ec0952fc04))
### 1 、


### 2 、


### 3 、

### 4 、
### 5、


### 6、


### 7、


### 8、



## 
### 1 、


### 2 、


### 3 、

### 4 、

### 5、


### 6、


### 7、


### 8、


# 四、

## 
### 1 、


### 2 、


### 3 、

### 4 、

### 5、


### 6、


### 7、


### 8、



## 
### 1 、


### 2 、


### 3 、

### 4 、
### 5、


### 6、


### 7、


### 8、



## 
### 1 、


### 2 、


### 3 、

### 4 、

### 5、


### 6、


### 7、


### 8、


# 五、

## 
### 1 、


### 2 、


### 3 、

### 4 、

### 5、


### 6、


### 7、


### 8、



## 
### 1 、


### 2 、


### 3 、

### 4 、
### 5、


### 6、


### 7、


### 8、



## 
### 1 、


### 2 、


### 3 、

### 4 、

### 5、


### 6、


### 7、


### 8、


