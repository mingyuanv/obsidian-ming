---
title: 
aliases: 
tags: 
description:
---

# 备注(声明)：

![RK3568（linux学习）/rk3568芯片开发/linux外设驱动开发（未）/assets/第十四期 单总线/file-20250810171749970.png](assets/第十四期%20单总线/file-20250810171749970.png)


# 一、基础知识

## 单总线概述
### 1 单总线的通信步骤
[“2.什么是单总线？”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#2.什么是单总线？&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={AC59BDCF-E1E1-40FD-B646-C9023F8EE55D}&object-id={705D3759-B5BC-407A-A207-39922B13B50E}&2A)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F2.%E4%BB%80%E4%B9%88%E6%98%AF%E5%8D%95%E6%80%BB%E7%BA%BF%EF%BC%9F%7CAC59BDCF-E1E1-40FD-B646-C9023F8EE55D%2F%29&wdpartid=%7bEA631A15-A1F1-489D-9E78-1EF526B63D6F%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

### 2 复位和应答信号时序
[“单总线时序”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#单总线时序&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={3F9A7E1F-A615-4A7F-9DB4-D4784F46CE2E}&object-id={33A845D5-A5AA-05F3-1025-D30FA0C5DCC2}&11)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F%E5%8D%95%E6%80%BB%E7%BA%BF%E6%97%B6%E5%BA%8F%7C3F9A7E1F-A615-4A7F-9DB4-D4784F46CE2E%2F%29&wdpartid=%7b41B3346C-7A39-0DB4-2D39-C3AA666E39B4%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

### 3 读写时序
[“单总线时序”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#单总线时序&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={3F9A7E1F-A615-4A7F-9DB4-D4784F46CE2E}&object-id={33A845D5-A5AA-05F3-1025-D30FA0C5DCC2}&60)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F%E5%8D%95%E6%80%BB%E7%BA%BF%E6%97%B6%E5%BA%8F%7C3F9A7E1F-A615-4A7F-9DB4-D4784F46CE2E%2F%29&wdpartid=%7b41B3346C-7A39-0DB4-2D39-C3AA666E39B4%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

### 4 、


### 5、




## ds18b20介绍

### 1 引脚配置和封装
[“3.实验使用外设：ds18b20介绍”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#3.实验使用外设：ds18b20介绍&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={3A7279F7-E0BE-44D4-9AA5-8855C89126F5}&object-id={964F5B13-834B-4E86-83AD-54F6204DE7F4}&26)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F3.%E5%AE%9E%E9%AA%8C%E4%BD%BF%E7%94%A8%E5%A4%96%E8%AE%BE%EF%BC%9Ads18b20%E4%BB%8B%E7%BB%8D%7C3A7279F7-E0BE-44D4-9AA5-8855C89126F5%2F%29&wdpartid=%7b88C6B735-CFBF-4A6F-8956-393413469C35%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

### 2 内部结构-数据暂存
[“3.实验使用外设：ds18b20介绍”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#3.实验使用外设：ds18b20介绍&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={3A7279F7-E0BE-44D4-9AA5-8855C89126F5}&object-id={964F5B13-834B-4E86-83AD-54F6204DE7F4}&36)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F3.%E5%AE%9E%E9%AA%8C%E4%BD%BF%E7%94%A8%E5%A4%96%E8%AE%BE%EF%BC%9Ads18b20%E4%BB%8B%E7%BB%8D%7C3A7279F7-E0BE-44D4-9AA5-8855C89126F5%2F%29&wdpartid=%7b88C6B735-CFBF-4A6F-8956-393413469C35%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

### 3 配置寄存器
[“4.ds18b20寄存器介绍”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#4.ds18b20寄存器介绍&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={0D742B38-C156-4FFD-9FCE-15E030A342DE}&object-id={9700F5D2-D055-41F1-B33F-484DCE692C94}&1E)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F4.ds18b20%E5%AF%84%E5%AD%98%E5%99%A8%E4%BB%8B%E7%BB%8D%7C0D742B38-C156-4FFD-9FCE-15E030A342DE%2F%29&wdpartid=%7b6905E101-4A31-4985-9B2A-B7317C6E01F8%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

### 4 温度测量寄存器
[“4.ds18b20寄存器介绍”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#4.ds18b20寄存器介绍&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={0D742B38-C156-4FFD-9FCE-15E030A342DE}&object-id={9700F5D2-D055-41F1-B33F-484DCE692C94}&37)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F4.ds18b20%E5%AF%84%E5%AD%98%E5%99%A8%E4%BB%8B%E7%BB%8D%7C0D742B38-C156-4FFD-9FCE-15E030A342DE%2F%29&wdpartid=%7b6905E101-4A31-4985-9B2A-B7317C6E01F8%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

### 5、温度计算方法
[“4.ds18b20寄存器介绍”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#4.ds18b20寄存器介绍&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={0D742B38-C156-4FFD-9FCE-15E030A342DE}&object-id={9700F5D2-D055-41F1-B33F-484DCE692C94}&4D)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F4.ds18b20%E5%AF%84%E5%AD%98%E5%99%A8%E4%BB%8B%E7%BB%8D%7C0D742B38-C156-4FFD-9FCE-15E030A342DE%2F%29&wdpartid=%7b6905E101-4A31-4985-9B2A-B7317C6E01F8%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

[“15.编写读取温度测试APP并验证驱动”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#15.编写读取温度测试APP并验证驱动&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={958B5DA1-3C18-450A-8E36-82FBACE02879}&object-id={26396109-C15D-0487-2D0F-E8F231E25959}&1A)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F15.%E7%BC%96%E5%86%99%E8%AF%BB%E5%8F%96%E6%B8%A9%E5%BA%A6%E6%B5%8B%E8%AF%95APP%E5%B9%B6%E9%AA%8C%E8%AF%81%E9%A9%B1%E5%8A%A8%7C958B5DA1-3C18-450A-8E36-82FBACE02879%2F%29&wdpartid=%7b9C9FA25C-46A1-43AE-981F-E375C7EFCC69%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))
### 6、ROM指令-处理设备的选择和网络管理
[“5.：ds18b20指令介绍”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#5.：ds18b20指令介绍&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={36491075-ECB8-4C33-AD7F-26B335DC2E5B}&object-id={AED42446-C388-090D-043B-05CB11E43A21}&14)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F5.%EF%BC%9Ads18b20%E6%8C%87%E4%BB%A4%E4%BB%8B%E7%BB%8D%7C36491075-ECB8-4C33-AD7F-26B335DC2E5B%2F%29&wdpartid=%7b73424841-F653-497D-84AC-B6A238DE4407%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

### 7、RAM指令-负责执行具体的任务，如读取温度值、配置传感器
[“5.：ds18b20指令介绍”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#5.：ds18b20指令介绍&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={36491075-ECB8-4C33-AD7F-26B335DC2E5B}&object-id={AED42446-C388-090D-043B-05CB11E43A21}&33)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F5.%EF%BC%9Ads18b20%E6%8C%87%E4%BB%A4%E4%BB%8B%E7%BB%8D%7C36491075-ECB8-4C33-AD7F-26B335DC2E5B%2F%29&wdpartid=%7b73424841-F653-497D-84AC-B6A238DE4407%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

### 8、举例操作-单总线上有单/多个DS18B20
[“5.：ds18b20指令介绍”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#5.：ds18b20指令介绍&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={36491075-ECB8-4C33-AD7F-26B335DC2E5B}&object-id={75380DDE-003F-0E1D-1A13-54F52128BB4D}&11)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F5.%EF%BC%9Ads18b20%E6%8C%87%E4%BB%A4%E4%BB%8B%E7%BB%8D%7C36491075-ECB8-4C33-AD7F-26B335DC2E5B%2F%29&wdpartid=%7b73424841-F653-497D-84AC-B6A238DE4407%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))






# 二、实验-理论指导和代码编写

## ds18b20驱动编写
### 1 编写字符设备驱动框架
[7.ds18b20驱动编写-编写字符设备驱动框架](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#7.ds18b20驱动编写-编写字符设备驱动框架&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={7956C4BD-7A53-4D76-85D8-4DC5B29E85E9}&end)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F7.ds18b20%E9%A9%B1%E5%8A%A8%E7%BC%96%E5%86%99-%E7%BC%96%E5%86%99%E5%AD%97%E7%AC%A6%E8%AE%BE%E5%A4%87%E9%A9%B1%E5%8A%A8%E6%A1%86%E6%9E%B6%7C7956C4BD-7A53-4D76-85D8-4DC5B29E85E9%2F%29&wdpartid=%7b95D8BFB4-D069-4B04-ADD8-BA61F63D739E%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

### 2 验证写时序
[// 函数功能：向DS18B20写入单个位(bit)的数据](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#11.编写写时序&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={2DC24275-EECE-4AD5-982A-132057233043}&object-id={38CFF218-C97C-0A9F-16B9-A4793ADA79C4}&25)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F11.%E7%BC%96%E5%86%99%E5%86%99%E6%97%B6%E5%BA%8F%7C2DC24275-EECE-4AD5-982A-132057233043%2F%29&wdpartid=%7bB74F2A74-C9BA-45AA-B502-2A4088155A63%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

### 3 编写复位时序
[// 函数功能：对DS18B20进行复位操作](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#9.编写复位时序&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={F374938C-836D-46A1-8CFE-ABE3EA61720C}&object-id={E1BE4192-CF13-0FF7-1F9D-590FB891678C}&95)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F9.%E7%BC%96%E5%86%99%E5%A4%8D%E4%BD%8D%E6%97%B6%E5%BA%8F%7CF374938C-836D-46A1-8CFE-ABE3EA61720C%2F%29&wdpartid=%7bFEB0C4F9-BE2E-4581-BC45-E38900B87657%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

### 4 编写读时序
[// 函数功能：从DS18B20读取单个位(bit)的数据](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#13.编写读时序&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={6296B0C6-A1EF-4133-8DC8-5A6E60EB5FA4}&object-id={0132DF37-6EAE-0C4A-0D60-82046A52019D}&60)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F13.%E7%BC%96%E5%86%99%E8%AF%BB%E6%97%B6%E5%BA%8F%7C6296B0C6-A1EF-4133-8DC8-5A6E60EB5FA4%2F%29&wdpartid=%7bCE3B5600-B556-4217-B73C-7111DB6FD049%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

### 5、编写读温度函数
[14.编写读温度函数](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#14.编写读温度函数&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={196AE29A-33E5-44E6-982B-254D2A3E3E54}&end)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F14.%E7%BC%96%E5%86%99%E8%AF%BB%E6%B8%A9%E5%BA%A6%E5%87%BD%E6%95%B0%7C196AE29A-33E5-44E6-982B-254D2A3E3E54%2F%29&wdpartid=%7bAB1169E6-8C4D-4D36-99E0-320189335F6B%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

### 6、添加ds18b20设备树节点
[“8.修改并解析设备树”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#8.修改并解析设备树&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={193B0A3C-B5B7-43DB-B394-40660B0C4245}&object-id={DDCD4659-1BF6-0FDD-3E79-8F5F50CC80C5}&14)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F8.%E4%BF%AE%E6%94%B9%E5%B9%B6%E8%A7%A3%E6%9E%90%E8%AE%BE%E5%A4%87%E6%A0%91%7C193B0A3C-B5B7-43DB-B394-40660B0C4245%2F%29&wdpartid=%7b289364AF-03AA-4227-8AF1-B64B009107E1%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

- **ds18b20节点在系统上的位置**
[“8.修改并解析设备树”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#8.修改并解析设备树&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={193B0A3C-B5B7-43DB-B394-40660B0C4245}&object-id={DDCD4659-1BF6-0FDD-3E79-8F5F50CC80C5}&18)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F8.%E4%BF%AE%E6%94%B9%E5%B9%B6%E8%A7%A3%E6%9E%90%E8%AE%BE%E5%A4%87%E6%A0%91%7C193B0A3C-B5B7-43DB-B394-40660B0C4245%2F%29&wdpartid=%7b289364AF-03AA-4227-8AF1-B64B009107E1%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

- 1 /dev/

### 7、编写读取温度测试APP - 验证驱动
[15.编写读取温度测试APP并验证驱动](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#15.编写读取温度测试APP并验证驱动&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={958B5DA1-3C18-450A-8E36-82FBACE02879}&end)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F15.%E7%BC%96%E5%86%99%E8%AF%BB%E5%8F%96%E6%B8%A9%E5%BA%A6%E6%B5%8B%E8%AF%95APP%E5%B9%B6%E9%AA%8C%E8%AF%81%E9%A9%B1%E5%8A%A8%7C958B5DA1-3C18-450A-8E36-82FBACE02879%2F%29&wdpartid=%7b9C9FA25C-46A1-43AE-981F-E375C7EFCC69%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

### 8、编写-用ioctrl实现设置分辨率的驱动功能
#### 分辨率配置寄存器
[“17.实践-用ioctrl实现设置分辨率功能”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#17.实践-用ioctrl实现设置分辨率功能&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={94682FA8-F142-4864-988C-0627C9A76D50}&object-id={EE5398D6-0353-0AFF-0FC8-14AD81354CB1}&26)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F17.%E5%AE%9E%E8%B7%B5-%E7%94%A8ioctrl%E5%AE%9E%E7%8E%B0%E8%AE%BE%E7%BD%AE%E5%88%86%E8%BE%A8%E7%8E%87%E5%8A%9F%E8%83%BD%7C94682FA8-F142-4864-988C-0627C9A76D50%2F%29&wdpartid=%7bDF5873AC-9480-4074-AF61-555BEC2CE2AC%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

#### 代码编写
[先定义一个命令](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#17.实践-用ioctrl实现设置分辨率功能&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={94682FA8-F142-4864-988C-0627C9A76D50}&object-id={A553D961-E0E3-02BE-2FC3-B4EBD5E1C219}&27)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F17.%E5%AE%9E%E8%B7%B5-%E7%94%A8ioctrl%E5%AE%9E%E7%8E%B0%E8%AE%BE%E7%BD%AE%E5%88%86%E8%BE%A8%E7%8E%87%E5%8A%9F%E8%83%BD%7C94682FA8-F142-4864-988C-0627C9A76D50%2F%29&wdpartid=%7bDF5873AC-9480-4074-AF61-555BEC2CE2AC%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))


### 9、编写测试APP-验证设置分辨率驱动
[18.编写设置APP并验证驱动](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#18.编写设置APP并验证驱动&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={A5720D1A-7489-45F9-9E1D-A85A2602F927}&end)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F18.%E7%BC%96%E5%86%99%E8%AE%BE%E7%BD%AEAPP%E5%B9%B6%E9%AA%8C%E8%AF%81%E9%A9%B1%E5%8A%A8%7CA5720D1A-7489-45F9-9E1D-A85A2602F927%2F%29&wdpartid=%7b9E29B13C-D6B3-4348-B901-48126FCAD34D%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))


### 10、课后作业讲解（?）
[19.课后作业讲解](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#19.课后作业讲解&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={238FCF11-E0A8-4FA6-883F-60D70F5C01A0}&end)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F19.%E8%AF%BE%E5%90%8E%E4%BD%9C%E4%B8%9A%E8%AE%B2%E8%A7%A3%7C238FCF11-E0A8-4FA6-883F-60D70F5C01A0%2F%29&wdpartid=%7b754779CA-B52B-4CC1-812C-7A87CE35E549%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

## 硬件连接
### 1 ds18b20与RK3568开发板
[硬件连接](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#硬件连接&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={698D9FE4-3ADA-4B94-B555-2BA166DFF84B}&object-id={7FA3187D-364B-075D-3B73-303AB536E9AB}&18)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F%E7%A1%AC%E4%BB%B6%E8%BF%9E%E6%8E%A5%7C698D9FE4-3ADA-4B94-B555-2BA166DFF84B%2F%29&wdpartid=%7b739939DB-324C-4445-A57E-B4E3AEB07C37%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

### 2 ds18b20、逻辑分析仪和RK3568开发板
[“10.实践-逻辑分析仪的使用”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#10.实践-逻辑分析仪的使用&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={102B2DA5-099B-49DF-BC5D-5CEC3B1E6FC5}&object-id={082446AC-29F0-0413-3D62-D2397AD8C007}&2D)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F10.%E5%AE%9E%E8%B7%B5-%E9%80%BB%E8%BE%91%E5%88%86%E6%9E%90%E4%BB%AA%E7%9A%84%E4%BD%BF%E7%94%A8%7C102B2DA5-099B-49DF-BC5D-5CEC3B1E6FC5%2F%29&wdpartid=%7b08F801EA-6F65-4A5E-AF14-B6A4460D0BAC%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))



## 通过逻辑分析仪认识单总线通信时序
### 1 Logic软件的使用配置
![RK3568（linux学习）/rk3568芯片开发/linux外设驱动开发（未）/assets/第十四期 单总线/file-20250810171750199.png](assets/第十四期%20单总线/file-20250810171750199.png)

[“10.实践-逻辑分析仪的使用”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#10.实践-逻辑分析仪的使用&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={102B2DA5-099B-49DF-BC5D-5CEC3B1E6FC5}&object-id={082446AC-29F0-0413-3D62-D2397AD8C007}&CB)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F10.%E5%AE%9E%E8%B7%B5-%E9%80%BB%E8%BE%91%E5%88%86%E6%9E%90%E4%BB%AA%E7%9A%84%E4%BD%BF%E7%94%A8%7C102B2DA5-099B-49DF-BC5D-5CEC3B1E6FC5%2F%29&wdpartid=%7b08F801EA-6F65-4A5E-AF14-B6A4460D0BAC%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

### 2 分析写时序
[“12.实践-验证写时序”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#12.实践-验证写时序&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={CDB4F624-A8DE-47B9-AAAF-11304D055DA0}&object-id={7D5C77D0-43D7-07E2-1FC8-7D7C3370ECA4}&20)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F12.%E5%AE%9E%E8%B7%B5-%E9%AA%8C%E8%AF%81%E5%86%99%E6%97%B6%E5%BA%8F%7CCDB4F624-A8DE-47B9-AAAF-11304D055DA0%2F%29&wdpartid=%7b3DCEB571-B734-445E-9497-1CC3F34B27DB%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

### 3 分析单总线通信- 读取温度
[“16.通过逻辑分析仪认识单总线通信时序”页上的图片](onenote:https://d.docs.live.net/52d4b76bb0ffcf51/Documents/\(RK3568\)Linux驱动开发/第十四期_单总线.one#16.通过逻辑分析仪认识单总线通信时序&section-id={C6E46E75-E6A4-4593-B7B3-5ADFF77CD777}&page-id={0C93BD2B-0849-4CDE-B74D-4369FE0C1281}&object-id={623A3B2B-67D7-0FB0-28C0-A839378B4831}&50)  ([Web 视图](https://onedrive.live.com/view.aspx?resid=52D4B76BB0FFCF51%21se8c325913f784bf694d429e5ee2ab2be&id=documents&wd=target%28%E7%AC%AC%E5%8D%81%E5%9B%9B%E6%9C%9F_%E5%8D%95%E6%80%BB%E7%BA%BF.one%7CC6E46E75-E6A4-4593-B7B3-5ADFF77CD777%2F16.%E9%80%9A%E8%BF%87%E9%80%BB%E8%BE%91%E5%88%86%E6%9E%90%E4%BB%AA%E8%AE%A4%E8%AF%86%E5%8D%95%E6%80%BB%E7%BA%BF%E9%80%9A%E4%BF%A1%E6%97%B6%E5%BA%8F%7C0C93BD2B-0849-4CDE-B74D-4369FE0C1281%2F%29&wdpartid=%7b8700DC1D-93A4-4286-88FA-AD6CF51191D1%7d%7b1%7d&wdsectionfileid=52D4B76BB0FFCF51!sbb4ce491bff74a9e9b93d3881b727e16))

### 4 




# 三、

## 
### 1 


### 2 


### 3 

### 4 

### 5、


### 6、


### 7、


### 8、



## 

### 1 


### 2 


### 3 

### 4 

### 5、


### 6、


### 7、


### 8、



## 
### 1 


### 2 


### 3 

### 4 

### 5、


### 6、


### 7、


### 8、



# 四、

## 
### 1 


### 2 


### 3 

### 4 

### 5、


### 6、


### 7、


### 8、



## 

### 1 


### 2 


### 3 

### 4 

### 5、


### 6、


### 7、


### 8、



## 
### 1 


### 2 


### 3 

### 4 

### 5、


### 6、


### 7、


### 8、



# 五、

## 
### 1 


### 2 


### 3 

### 4 

### 5、


### 6、


### 7、


### 8、



## 

### 1 


### 2 


### 3 

### 4 

### 5、


### 6、


### 7、


### 8、



## 
### 1 


### 2 


### 3 

### 4 

### 5、


### 6、


### 7、


### 8、



# 六、

## 
### 1 


### 2 


### 3 

### 4 

### 5、


### 6、


### 7、


### 8、



## 

### 1 


### 2 


### 3 

### 4 

### 5、


### 6、


### 7、


### 8、



## 
### 1 


### 2 


### 3 

### 4 

### 5、


### 6、


### 7、


### 8、



