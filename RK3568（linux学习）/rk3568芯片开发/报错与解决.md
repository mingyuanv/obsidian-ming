---
title: 
aliases: 
tags: 
description:
---

# éšè®°ï¼š



# ä¸€ã€
## 1ã€
### æŠ¥é”™ç°è±¡


### åŸå›  - `/etc/apt/sources.list`Â æ–‡ä»¶ä¸­å¤šæ¬¡é…ç½®äº†Â `Commands-all`Â ç›®æ ‡çš„ CNF
```bash
deb [arch=amd64] https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu/ bionic stable
# deb-src [arch=amd64] https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu/ bionic stable
deb [arch=amd64] https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu bionic stable

```

### è§£å†³ - æŠŠé‡å¤çš„å»æ‰ä¸€ä¸ªå°±å¯
```bash
deb [arch=amd64] https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu/ bionic stable
# deb-src [arch=amd64] https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu/ bionic stable
# deb [arch=amd64] https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu bionic stable

```



## 2ã€`libcurl4-gnutls-dev` å’Œ `libcurl3gnutls/libcurl4` ä¹‹é—´çš„ä¾èµ–å†²çªé—®é¢˜
### æŠ¥é”™ç°è±¡
> ä¸‹åˆ—è½¯ä»¶åŒ…æœ‰æœªæ»¡è¶³çš„ä¾èµ–å…³ç³»ï¼š libcurl4-gnutls-dev : ä¾èµ–: libcurl3-gnutls (= 7.58.0-2ubuntu3) ä½†æ˜¯ 7.58.0-2ubuntu3.24 æ­£è¦è¢«å®‰è£… E: æ— æ³•ä¿®æ­£é”™è¯¯ï¼Œå› ä¸ºæ‚¨è¦æ±‚æŸäº›è½¯ä»¶åŒ…ä¿æŒç°çŠ¶ï¼Œå°±æ˜¯å®ƒä»¬ç ´åäº†è½¯ä»¶åŒ…é—´çš„ä¾èµ–å…³ç³»ã€‚
> 
### åŸå› 


### è§£å†³
### ğŸ”„ è§£å†³æ–¹æ¡ˆ 2ï¼šç§»é™¤ libcurl3 ç„¶åå®‰è£…libcurl4

å¦‚æœå½“å‰ç³»ç»Ÿè£…æœ‰ `libcurl3-gnutls`ï¼Œå…ˆç§»é™¤å®ƒï¼š

`sudo apt remove libcurl3-gnutls 
`sudo apt update sudo apt install libcurl4-gnutls-dev`

è¿™å°†é‡Šæ”¾å†²çªä¾èµ–ï¼Œå…è®¸å®‰è£…æœ€æ–°ç‰ˆ ã€‚


## 3ã€è™šæ‹Ÿæœºubuntuå†…éƒ¨åˆ é™¤çš„æ–‡ä»¶æ²¡æœ‰å®Œå…¨é‡Šæ”¾
### æŠ¥é”™ç°è±¡


### åŸå› 


### è§£å†³

[è™šæ‹Ÿæœºç£ç›˜ç˜¦èº«(è™šæ‹Ÿæœºå†…åˆ é™¤æ–‡ä»¶åï¼Œæ‰€å ç‰©ç†ç©ºé—´ä¸å˜å°)\_è™šæ‹Ÿæœºçš„æ–‡ä»¶åˆ é™¤ä»¥åç‰©ç†åŠæ‰€å ç”¨çš„ç©ºé—´ä¹Ÿä¼šç«‹å³é‡Šæ”¾-CSDNåšå®¢](https://blog.csdn.net/weixin_42741271/article/details/97256803)
## 4ã€
### æŠ¥é”™ç°è±¡


### åŸå› 


### è§£å†³




## 5ã€
### æŠ¥é”™ç°è±¡


### åŸå› 


### è§£å†³






# äºŒã€å®šåˆ¶ Ubuntu å’Œ Debian ç³»ç»Ÿåˆ°å¼€å‘æ¿
## 1ã€è™šæ‹Ÿæœºubuntuå¡æ­»å…³ä¸äº†æœº
### æŠ¥é”™ç°è±¡


### åŸå› 


### è§£å†³
[Title Unavailable \| Site Unreachable](https://cloud.tencent.com/developer/article/2395367)

## 2ã€Archives directory /var/cache/apt/archives/partial is missing
### æŠ¥é”™ç°è±¡
> The following additional packages will be installed:
  vim-common vim-runtime
Suggested packages:
  ctags vim-doc vim-scripts
`E: Archives directory /var/cache/apt/archives/partial is missing. - Acquire (2: No such file or directory)
ERROR: Running build_ubuntu20 failed!
ERROR: exit code 100 from line 462:
    VERSION=ubuntu20 ./mk-rootfs.sh


### åŸå›  


### è§£å†³

> `E: Archives directory /var/cache/apt/archives/partial is missing. - Acquire (2: No such file or directory)
> root@ubuntu:/# `mkdir -p /var/cache/apt/archives/partial
> root@ubuntu:/# `mkdir -p /var/lib/apt/lists/partial
> root@ubuntu:/# `chmod 755 /var/cache/apt/archives
> root@ubuntu:/# `chmod 755 /var/lib/apt/lists
> root@ubuntu:/# `apt update
> 
> root@ubuntu:/# `apt-get install vim
> 
> 
## 3ã€
### æŠ¥é”™ç°è±¡


### åŸå› 


### è§£å†³



## 4ã€
### æŠ¥é”™ç°è±¡


### åŸå› 


### è§£å†³




## 5ã€
### æŠ¥é”™ç°è±¡


### åŸå› 


### è§£å†³






# ä¸‰ã€å®æ—¶ç³»ç»Ÿ
## 1ã€ç¼–è¯‘xenomaiå’Œpreemtionçš„kernelå¤±è´¥

### Ubuntu ç¼–è¯‘ç¯å¢ƒç¼ºå°‘Â `libgmp-dev`Â å¼€å‘åŒ…
> ==========================================
>           Start building kernel
> ==========================================
> 
> Your gmp headers are missing
> Please install it:
> `sudo apt-get install libgmp-dev
> 
> ERROR: Running /home/topeet/Linux/beijing/3568-linux/device/rockchip/common/scripts/mk-kernel.sh - do_build failed!
> ERROR: exit code 1 from line 49:
>     "$SCRIPTS_DIR/check-kernel.sh"
> ERROR: call stack:
>     mk-kernel.sh: do_build(49)
- 1 sudo apt-get install libgmp-dev


### ç³»ç»Ÿé‡Œæ²¡æœ‰å®‰è£… Expect
> make: Leaving directory '/home/topeet/Linux/beijing/3568-linux/buildroot'
> Done in 0s  (error code: 1)
> Failed to build rockchip_rk3568:
> # 2025-07-21 05:30:26
> 2025-07-21T05:30:26 `can't find package Expect`
> 2025-07-21T05:30:26 while executing
> 2025-07-21T05:30:26 "package require Expect"
> 2025-07-21T05:30:26 (file "/usr/bin/unbuffer" line 6)
> 
> Please check details in /home/topeet/Linux/beijing/3568-linux/output/sessions/2025-07-21_05-26-33/br-rockchip_rk3568_2025-07-21_05-30-26.log
> 
- 1 ç³»ç»Ÿé‡Œæ²¡æœ‰å®‰è£… Expectï¼Œå°±ä¼šå‡ºç°ç±»ä¼¼é”™è¯¯ï¼Œè§£å†³åŠæ³•ï¼šå®‰è£… Expect å¥—ä»¶
- 2 sudo apt update
- 2 sudo apt install expect tcl-expect


### tclshè·¯ç»é”™è¯¯ï¼Œå½“å‰ `tclsh` æ˜¯ Miniconda è‡ªå¸¦çš„ç‰ˆæœ¬
> (base) topeet@ubuntu:~/Linux/beijing/3568-linux$ `which tclsh`
> `/home/topeet/miniconda3/bin/tclsh`
> (base) topeet@ubuntu:~/Linux/beijing/3568-linux$ tclsh --version
> % ^C
- 1 ä½ å½“å‰ `tclsh` æ˜¯ Miniconda è‡ªå¸¦çš„ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯ç³»ç»Ÿè‡ªå¸¦çš„ï¼Œè¿™å¯¼è‡´ `unbuffer` è„šæœ¬æ‰§è¡Œ `package require Expect` æ—¶æ‰¾ä¸åˆ° Expect åº“ã€‚

- 1 æ–¹æ³•ä¸€ï¼šç”¨ä¸´æ—¶ PATH è·³è¿‡ Conda
- 2 PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin unbuffer echo ok
- 2 export PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin    åœ¨ä½ çš„ `build.sh` æˆ– `mk-rootfs.sh` å‰åŠ å…¥ç±»ä¼¼
> (base) topeet@ubuntu:~/Linux/beijing/3568-linux$ PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin unbuffer echo ok
> ok
> (base) topeet@ubuntu:~/Linux/beijing/3568-linux$ ./build.sh all


- 1 æ–¹æ³•äºŒï¼šé•¿æœŸæ–¹æ¡ˆ   **ç¼–è¾‘ `/usr/bin/unbuffer`**ï¼Œå°†ç¬¬ä¸€ä¸ª `exec tclsh` æ”¹ä¸ºï¼š
- 2 exec /usr/bin/tclsh "$0" ${1+"$@"}


### ubuntu29.04  GCC ç‰ˆæœ¬è¿‡ä½

> `gcc: error: unrecognized command line option '-Waddress-of-packed-member'
è¿™æ˜¯ç”±äºä½ çš„äº¤å‰ç¼–è¯‘å™¨æˆ–ä¸»æœºä¸Šå®‰è£…çš„ GCC ç‰ˆæœ¬è¿‡ä½ï¼Œä¸æ”¯æŒ `-Waddress-of-packed-member` é€‰é¡¹ï¼Œè¯¥é€‰é¡¹ä» GCC 9 å¼€å§‹å¼•å…¥

- 1 ubuntu20å› ä¸ºå…¨å¿—çš„å¼€å‘å¯ä»¥åˆ‡æ¢gccç‰ˆæœ¬
[[æŠ¥é”™ä¸è§£å†³-wiki#åˆ‡æ¢gccç‰ˆæœ¬]]


### 



## 2ã€
### æŠ¥é”™ç°è±¡


### åŸå› 


### è§£å†³



## 3ã€
### æŠ¥é”™ç°è±¡


### åŸå› 


### è§£å†³



## 4ã€
### æŠ¥é”™ç°è±¡


### åŸå› 


### è§£å†³




## 5ã€
### æŠ¥é”™ç°è±¡


### åŸå› 


### è§£å†³

# å››ã€ç³»ç»Ÿå¼€å‘
## 1ã€é…ç½®IOç”µå‹åŸŸè®²è§£ï¼ˆæ¯ä¸€ä¸ªç³»ç»Ÿéƒ½è¦ï¼‰
### æŠ¥é”™ç°è±¡


### åŸå› 


### è§£å†³ï¼ˆkernel/arch/arm64/boot/dts/rockchip/rk3568-evb.dtsiï¼‰

> &pmu_io_domains {
> 	status = "okay";
> 	pmuio2-supply = <&vcc3v3_pmu>;
> 	vccio1-supply = <&vccio_acodec>;//3.3V
> 	vccio3-supply = <&vccio_sd>;//1.8~3.3V
> 	vccio4-supply = <&vcc_1v8>;
> 	vccio5-supply = <&vcc_3v3>;
> 	vccio6-supply = <&vcc_1v8>;
> 	vccio7-supply = <&vcc_3v3>;
> };
> 

```
&pmu_io_domains {
	status = "okay";
	pmuio2-supply = <&vcc3v3_pmu>;
	vccio1-supply = <&vccio_acodec>;//3.3v
	vccio3-supply = <&vccio_sd>;//1.8~3.3v
	vccio4-supply = <&vcc_1v8>;
	vccio5-supply = <&vcc_3v3>;
	vccio6-supply = <&vcc_1v8>;
	vccio7-supply = <&vcc_3v3>;
};
```

æ·»åŠ Ubuntuç³»ç»Ÿ

## 2ã€
### æŠ¥é”™ç°è±¡


### åŸå› 


### è§£å†³



## 3ã€
### æŠ¥é”™ç°è±¡


### åŸå› 


### è§£å†³



## 4ã€
### æŠ¥é”™ç°è±¡


### åŸå› 


### è§£å†³




## 5ã€
### æŠ¥é”™ç°è±¡


### åŸå› 


### è§£å†³











