---
title: 
aliases: 
tags:
  - 君正T23-ZN
  - 泰芯pdf
description:
---

# 随记：



# 一、pdf资料整理

## 1.泰芯Linux_WiFi_SMAC_BLE配网开发指南.pdf
TXW80x 的 BLE 功能和 WiFi 功能不能同时工作，进入蓝牙 BLE 模式后，芯片会自动关闭 WiFi 功能闭，退出蓝牙 BLE 模式时自动打开 WiFi 功能
 目录 1 
 概述 ..............................................................................................................................................................1 2 
 SMAC BLE配网流程 ..................................................................................................................................... 1 3 
 SMAC BLE 配网代码框架 ............................................................................................................................. 2 4 
 SMAC BLE 配网开发流程 ............................................................................................................................. 3 5 
 对接涂鸦 App BLE 配网 .............................................................................................................................. 6
> [!PDF|note] [[君正T23-ZN芯片开发/君正T23-ZN/assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171412466.pdf#page=4&selection=49,0,51,4&color=note|泰芯Linux_WiFi_SMAC_BLE配网开发指南, p.4]]
> > SMAC BLE 配网流程
> 
> 

## 2.泰芯Linux_WiFi_SMAC驱动开发指南.pdf
泰芯 SMAC 驱动需要内核支持 MAC80211/CFG80211，WiFi 协议栈运行在主控端。支持 ieee80211 bgn 协议,支持 AP/STA/P2P 模式。对应的 WiFi 固件为 vx.x.x.1 类型。


### Linux Kernel 编译配置

> [!PDF|important] [[君正T23-ZN芯片开发/君正T23-ZN/assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171412498.pdf#page=4&selection=88,0,92,4&color=important|泰芯Linux_WiFi_SMAC驱动开发指南, p.4]]
> > Linux Kernel 编译配置
> 
> 

- 1 (2) usb 接口：打开 Device Driver → USB support，以及对应的 usb host driver。

> [!note] error
> 注 ： 编译驱动时如果出现 mmc_card_disable_cd 未定义 error ， 请打开 if_sdio.c 中 mmc_card_disable_cd 定义代码，如下图所示：
> ![Pasted image 20250512202239](<assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171412519.png>)



### hgic_smac
> [!PDF|note] [[君正T23-ZN芯片开发/君正T23-ZN/assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171412498.pdf#page=5&selection=53,0,57,3&color=note|泰芯Linux_WiFi_SMAC驱动开发指南, p.5]]
> > 3.1 hgic_smac
> 
> 




### 固件下载
> [!PDF|note] [[君正T23-ZN芯片开发/君正T23-ZN/assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171412498.pdf#page=10&selection=45,0,47,4&color=note|泰芯Linux_WiFi_SMAC驱动开发指南, p.10]]
> > 3.2 固件下载


### 



## 3.Core_Specification_Supplement.pdf

### 


## 4、TX-M901-U(P) 模组规格书_V1.1_20240516103650.pdf

> [!PDF|important] [[君正T23-ZN芯片开发/君正T23-ZN/assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171412654.pdf#page=9&selection=4,1,4,7&color=important|TX-M901-U(P) 模组规格书_V1.1_20240516103650, p.9]]
> > . 引脚定义
> 
> 



### 




# 二、TX-M901-U(P) 与 RD_T23_INDUS V1.1开发板硬件引脚连接


## 资料

### 1、RD_T23_INDUS V1.1开发板原理图
> [!PDF|important] [[RD_T23_INDUS_V1_1_20240318A.pdf#page=2&selection=172,0,172,12&color=important|RD_T23_INDUS_V1_1_20240318A, p.2]]
> > ARCHITECTURE
> 
> 

### 2、 TX-M901-U(P) 模组规格书_V1.1_20240516103650.pdf
> [!PDF|important] [[君正T23-ZN芯片开发/君正T23-ZN/assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171412654.pdf#page=9&selection=4,1,4,7&color=important|TX-M901-U(P) 模组规格书_V1.1_20240516103650, p.9]]
> > . 引脚定义
> 
> 

### 3、


## T23-ZN原理图分析


![君正T23-ZN芯片开发/君正T23-ZN/assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171412672.png](assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171412672.png)

![君正T23-ZN芯片开发/君正T23-ZN/assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171412758.png](assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171412758.png)

![君正T23-ZN芯片开发/君正T23-ZN/assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171412848.png](assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171412848.png)


### USB2.0接口
![君正T23-ZN芯片开发/君正T23-ZN/assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171412937.png](assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171412937.png)

![君正T23-ZN芯片开发/君正T23-ZN/assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171413021.png](assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171413021.png)



- 1 君正T23N与君正T23-ZN的引脚功能是一样的。

## wifi引脚定义
> [!PDF|important] [[君正T23-ZN芯片开发/君正T23-ZN/assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171412654.pdf#page=9&selection=4,0,4,7&color=important|TX-M901-U(P) 模组规格书_V1.1_20240516103650, p.9]]
> > 4. 引脚定义
> 
> 

![君正T23-ZN芯片开发/君正T23-ZN/assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171413105.png](assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171413105.png)




## 最终决定

> [!note] 用J12的usb接口
> 与烧录接口共用同一个usb2.0
> 
> 实物图：
> ![file-20250810171412937](<assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171412937.png>)
> ![1747040900352](<assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171413192.png>)
> 
![Pasted image 20250511163956.png](../../媒体库/图片库/Pasted%20image%2020250511163956.png)

> [!summary] 引脚接法
> D+   --->   usb2.0DP   --->  2
> 
> D-   --->    usb2.0DM  --->  3



# 三、wifi驱动编译

## 1、hgic_smac

> [!PDF|note] [[君正T23-ZN芯片开发/君正T23-ZN/assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171412498.pdf#page=5&selection=53,0,57,3&color=note|泰芯Linux_WiFi_SMAC驱动开发指南, p.5]]
> > 3.1 hgic_smac
> 
> 

> [!note] 内核配置（自动配置好了）
> SMAC 驱动需要内核支持 MAC80211/CFG80211。
> AP 模式需要使用 hostapd，STA 模式需要使用 wpa_supplicant。hostapd/wpa_supplicant 均可自行从 Internet 下载编译。 
> 
> hgic_smac 驱动适用于 TXW801/TXW811 系列芯片，不支持低功耗模式。可编译成独立 ko 文件，也可以编译进内核。
> 
> (2) usb 接口：打开 Device Driver → USB support，以及对应的 usb host driver。


> [!note] Makefile
> #jzt23-zn
> ARCH := mips
> COMPILER := mips-linux-gnu-
> LINUX_KERNEL_PATH := /home/ming/workspace_jzt23zn/Ingenic_Zeratul_T23_V3.0.0_20240803/Zeratul_Release_20240803/Software/os/kernel
> 

> [!note] 编译-usb
> ming@ming:~/workspace_jzt23zn/taixin-smac-linux-driver-v2.3.2-32108_20241219113541/taixin-smac-linux-driver-v2.3.2-32108$ 
> <span style="background:#affad1">make smac_usb</span>
> 



## 2.固件下载

> [!PDF|note] [[君正T23-ZN芯片开发/君正T23-ZN/assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171412498.pdf#page=10&selection=45,0,47,4&color=note|泰芯Linux_WiFi_SMAC驱动开发指南, p.10]]
> > 3.2 固件下载
> 
> 


- 1 把固件放在这个目录。
![君正T23-ZN芯片开发/君正T23-ZN/assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171413278.png](assets/4.wifi驱动移植-泰芯(TX-M901-UP)/file-20250810171413278.png)

## 3.移植总结（缺固件）

> [!note] 移植总结
> 可以usb2.0用作烧录和wifi。其实是<span style="background:#d3f8b6">主从设备切换</span>，t23自动支持。记得拔掉usb烧录线。
> 其实没开启烧录功能，<span style="background:#affad1">默认usb2.0是可以接外设，t23芯片做从设备。</span>















